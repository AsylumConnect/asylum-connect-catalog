{% extends 'layouts/base.html' %}

{% block content %}
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<meta charset="utf-8">
<meta name="csrf-token" content="{{ csrf_token() }}">

<div id="map-list-grid" class="ui two column horizontally padded grid">
  <div class="four wide column" id="left-column">
    <div id="search">
      <form id="resources-form">
        <div class="ui fluid icon input">
          <i class="search icon"></i>
          <input type="text" id="resources-input" class="controls"
          placeholder="Enter a resource keyword">
        </div>
      </form>

      <div class="ui fluid icon input" id="location-search">
        <i class="search icon"></i>
        <input type="text" id="pac-input" class="controls"
        placeholder="Enter a location">
      </div>

      <div id="default-search" class="option-group">
        <div class="descriptor-group">
          <h5>DESCRIPTOR #1</h5>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option" class="checkbox-option">
            <label>Option ekkeke</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
        </div>
      </div>

      <div id="advanced-search" class="option-group-advanced">
        <div class="descriptor-group">
          <h5>DESCRIPTOR #2</h5>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
        </div>

        <div class="descriptor-group">
          <h5>DESCRIPTOR #3</h5>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
          <div class="ui checkbox field one wide column">
            <input type="checkbox" name="option">
            <label>Option</label>
          </div>
        </div>
      </div>

      <div id="advanced-filters-showhide">
        Show Advanced Filters
      </div>
    </div>

    <div class="ui divider" id="left-column-divider"></div>
    <div class="ui middle aligned divided list" id="list"></div>
  </div>

  <div class="twelve wide column" id="right-column">
    <div id="map"></div>
    <div id="resource-info"></div>
  </div>
</div>

<!-- HANDLEBARS.JS TEMPLATES COMPILED IN MAP.JS -->
<!-- Populate location search marker info-->
<script id="searched-location-info-window-template" type="text/x-handlebars-template">
  <div class="loc-marker-info">
    <h3 class="ui header">
      {% raw %}{{ name }}{% endraw %}
      <div class="sub header">
        {% raw %}{{ address }}{% endraw %}
      </div>
    </h3>
  </div>
</script>

<!-- Populate resource marker info-->
<script id="marker-info-window-template" type="text/x-handlebars-template">
  <div class="marker-info">
    <h3 class="ui header">
      {% raw %}{{ name }}{% endraw %}
      <div class="sub header">
        <div>{% raw %}{{ address }}{% endraw %}</div>
        <a class="more-info">More Information</a>
      </div>
    </h3>
  </div>
</script>

<!-- Populate resource information view-->
<script id="resource-template" type="text/x-handlebars-template">
  <i class="big link remove icon" id="back-button"></i>
  <h1 class="ui header">
    {% raw %}{{ name }}{% endraw %}
    <div class="sub header">
      {% raw %}{{ address }}{% endraw %}
      <br>
      <span class="ui large label">Category</span>
    </div>
  </h1>
  <div id="single-resource-map"></div>
  <div class="ui hidden divider"></div>
  <div class="descriptors">
    <h2 class="ui dividing header">Information</h2>
    <div class="ui list">
      {% raw %}{{#each descriptors}}{% endraw %}
      <div class="item descriptor">
        <div class="header">{% raw %}{{ key }}{% endraw %}</div>
        {% raw %}{{ value }}{% endraw %}
      </div>
      {% raw %}{{/each}}{% endraw %}
    </div>
  </div>
  <div class="ui hidden divider"></div>
  <div class="actions">
    <h2 class="ui dividing header">Actions</h2>
    <a href="{% raw %}{{ suggestionUrl }}{% endraw %}">
      Suggest an edit for this resource
    </a>
  </div>
</script>

<!-- Populate list view-->
<script id="listview-template" type="text/x-handlebars-template">
  {% raw %}{{#each resource}}{% endraw %}
  <div class="item list-resource">
    <h3 class="ui header">
      <a>
        {% raw %}{{ name }}{% endraw %}
      </a>
      <div class="right floated content">
        <a><i class="large right chevron icon"></i></a>
      </div>
    </h3>

    <div class="sub header">
      <div>{% raw %}{{ address }}{% endraw %}</div>
      <div class="ui small label">Category</div>
    </div>
  </div>
  {% raw %}{{/each}}{% endraw %}
</script>

<script>
  $(document).ready(function(){
    // defined in map.js
    initMap();
    resizeMapListGrid();

    // Adjust height of map/list grid when resize browser to fit in screen
    $(window).resize(function() {
      resizeMapListGrid();
    });

    $('#advanced-filters-showhide').click(function() {
      if ($(this).text() === 'Close Advanced Filters') {
        $(this).text('Show Advanced Filters');
      } else {
        $(this).text('Close Advanced Filters');
      }
      $('.option-group-advanced').toggle();
    });
  });
</script>

{% endblock %}
